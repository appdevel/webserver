# webserver
Проектирование web-сервера на языке Python. Web-сервер должен получать XML -запрос, в котором содержится JSON с закодированным алгебраическим выражением, разбирать, вычислять его и возвращать ответ обратно. Выражение может содержать математические функции. Необходимо продемонстрировать работу нескольких потоков.

Структура проекта:
threading.servers.py - файл с веб-сервером.
json_calendar.py - файл, генерирующий JSON. Результат его работы - ниже.
calendar.json - JSON, генерирующийся файлом выше.
logger.log - лог веб-сервера.

Назначение JSON-а с календарем (calendar.json):
Файл содержит набор формул для перевода текущей даты григорианского календаря в даты других календарей: мусульманского, юлианского, тайского, непальского и т.д.
В большинстве случаев переводится только текущий год; для такого перевода используется только одна формула.
Для непальского календаря создается своя под-структура (nepal), в которой вычисляется год, месяц и день (по одной формуле на каждое вычисление).
Для юлианского календаря создается под-структура (JDN), в которой также вычисляются год, месяц и день, но она содержит несколько дополнительных формул для вычисления коэффициентов, используемых при вычислениях даты.
Также JSON содержит кортеж (value) для размещения переменных год (y), месяц (m), день (d), используемых в формулах.

Внутри файла с веб-сервером также создается список answerdict, напоминающий по своей структуре JSON с календарем. Список используется для упорядоченного вывода вычислений.
Элементами списка answerdict являются либо просто результаты вычислений переведенных годов, либо - вложенные списки, если переводится комплект год-месяц-день.
Также answerdict содержит вложенный список (NOW) для размещения текущей даты григорианского календаря: год, месяц, день. Оттуда ничего не вычисляется, просто для красивого вывода.

JSON-файл с календарем обрабатывается потоком calendar_server_thread при отправке запроса POST на 8000 порт. Возвращается список answerdict в формате JSON-строки. 
Также поток calendar_server_thread на 8000 порту может получать данные методом GET. Ничего особенного не делает, просто возвращает строку с HTML-форматированием.

Второй поток называется func_server_thread, работает с портом 8001. Содержит методы:
GET - отображение веб-страницы/вывод страницы с сообщением об ошибке.
POST - может принимать на вход JSON, введенный в REST-консоль в ручном режиме и возвращать ответ. При получении рандомной строки в лог пишется ошибка.

Ошибки и просто информативные сообщения можно посмотреть в логе. Несмотря на несколько потоков, сообщения в логе не дублируются. 
В лог отображаются строки кода, на которых случилось записываемое событие, есть классификация событий по разным типам сообщений, пишется время, описание события и выходные данные.
